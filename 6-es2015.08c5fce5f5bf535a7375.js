(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{uxJR:function(e,t,r){"use strict";r.r(t),r.d(t,"OrdersModule",function(){return x});var n=r("ofXK"),c=r("fXoL"),l=r("Xgv5"),i=r("tyNb");function o(e,t){1&e&&(c.Ub(0,"button",7),c.zc(1," Order Now "),c.Tb())}function b(e,t){if(1&e&&(c.Ub(0,"tr"),c.Ub(1,"td"),c.zc(2),c.Tb(),c.Ub(3,"td"),c.zc(4),c.Tb(),c.Ub(5,"td"),c.zc(6),c.Tb(),c.Ub(7,"td"),c.zc(8),c.hc(9,"currency"),c.Tb(),c.Ub(10,"td"),c.zc(11),c.hc(12,"currency"),c.Tb(),c.Tb()),2&e){const e=t.$implicit,r=t.index;c.Cb(2),c.Bc(" ",r+1," "),c.Cb(2),c.Bc(" ",e.name," "),c.Cb(2),c.Bc(" ",e.itemCount," "),c.Cb(2),c.Bc(" ",c.ic(9,5,e.price)," "),c.Cb(3),c.Bc(" ",c.ic(12,7,e.price*e.itemCount)," ")}}function u(e,t){if(1&e&&(c.Ub(0,"div"),c.Ub(1,"div",2),c.Ub(2,"p"),c.Ub(3,"b"),c.zc(4,"Total Price: "),c.Tb(),c.zc(5),c.hc(6,"currency"),c.Tb(),c.xc(7,o,2,0,"button",3),c.Tb(),c.Ub(8,"table",4),c.Ub(9,"thead",5),c.Ub(10,"tr"),c.Ub(11,"th"),c.zc(12,"#"),c.Tb(),c.Ub(13,"th"),c.zc(14,"P_name"),c.Tb(),c.Ub(15,"th"),c.zc(16,"Quantity"),c.Tb(),c.Ub(17,"th"),c.zc(18,"Price"),c.Tb(),c.Ub(19,"th"),c.zc(20,"Total Price"),c.Tb(),c.Tb(),c.Tb(),c.Ub(21,"tbody"),c.xc(22,b,13,9,"tr",6),c.Tb(),c.Tb(),c.Tb()),2&e){const e=c.gc();c.Cb(5),c.Bc(" ",c.ic(6,3,e.cartService.cartItemsPrice)," "),c.Cb(2),c.lc("ngIf",e.cartService.cartItems),c.Cb(15),c.lc("ngForOf",e.cartService.cartItems)}}function s(e,t){1&e&&(c.Ub(0,"div",8),c.Ub(1,"p"),c.zc(2," No such products in cart "),c.Tb(),c.Ub(3,"a",9),c.zc(4," Buy Products "),c.Tb(),c.Tb())}let a=(()=>{class e{constructor(e){this.cartService=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(l.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-orders"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noData",""],[1,"d-flex","justify-content-between","mb-2"],["routerLink","/orders/checkout","class","btn main-btn",4,"ngIf"],[1,"table","table-striped"],[1,"bg-dark","text-light"],[4,"ngFor","ngForOf"],["routerLink","/orders/checkout",1,"btn","main-btn"],[1,"text-center"],["routerLink","/products",1,"btn","btn-dark"]],template:function(e,t){if(1&e&&(c.xc(0,u,23,5,"div",0),c.xc(1,s,5,0,"ng-template",null,1,c.yc)),2&e){const e=c.sc(2);c.lc("ngIf",t.cartService.cartItems.length)("ngIfElse",e)}},directives:[n.l,n.k,i.b,i.d],pipes:[n.c],styles:[""]}),e})();var m=r("3Pt+"),d=r("2qjx");function f(e,t){1&e&&(c.Ub(0,"div",14),c.Ub(1,"strong"),c.zc(2,"operation done successfully"),c.Tb(),c.Tb())}function p(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," this field is required "),c.Tb())}function h(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," this field is required "),c.Tb())}function T(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," please enter valid phone number "),c.Tb())}function U(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," this field is required "),c.Tb())}function g(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," please enter valid email "),c.Tb())}function v(e,t){1&e&&(c.Ub(0,"small",15),c.zc(1," this field is required "),c.Tb())}const z=[{path:"",component:a},{path:"checkout",component:(()=>{class e{constructor(e,t,r){this.formBuilder=e,this.cartService=t,this.productsService=r}ngOnInit(){this.create_client_form()}create_client_form(){this.clientForm=this.formBuilder.group({name:[null,[m.n.required]],phoneNumber:[null,[m.n.required,m.n.pattern("^((\\+2-?)|0)?[0-9]{10}$")]],email:[null,[m.n.required,m.n.email]],address:[null,[m.n.required]]})}checkOut(){const e=this.cartService.cartItems.map(e=>({product_id:e.id,product_itemCount:e.itemCount,unit_price:e.price}));this.productsService.saveOrder({products:e,orderTotalPrice:this.cartService.cartItemsPrice,clientInfo:this.clientForm.value}).then(()=>{this.checkedOut=!0,this.cartService.reset(),this.productsService.reset()})}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(m.b),c.Pb(l.a),c.Pb(d.a))},e.\u0275cmp=c.Jb({type:e,selectors:[["app-checkout"]],decls:33,vars:9,consts:[["class","alert alert-success","role","alert",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for",""],["type","text","formControlName","name",1,"form-control"],["class","text-danger text",4,"ngIf"],["type","text","formControlName","phoneNumber",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","text","formControlName","address",1,"form-control"],[1,"col-12"],[1,"form-grou"],["type","submit",1,"btn","main-btn",3,"disabled"],["role","alert",1,"alert","alert-success"],[1,"text-danger","text"]],template:function(e,t){if(1&e&&(c.xc(0,f,3,0,"div",0),c.Ub(1,"form",1),c.ec("ngSubmit",function(){return t.checkOut()}),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"div",4),c.Ub(5,"label",5),c.zc(6," Full Name "),c.Tb(),c.Qb(7,"input",6),c.xc(8,p,2,0,"small",7),c.Tb(),c.Tb(),c.Ub(9,"div",3),c.Ub(10,"div",4),c.Ub(11,"label",5),c.zc(12," Phone Number "),c.Tb(),c.Qb(13,"input",8),c.xc(14,h,2,0,"small",7),c.xc(15,T,2,0,"small",7),c.Tb(),c.Tb(),c.Ub(16,"div",3),c.Ub(17,"div",4),c.Ub(18,"label",5),c.zc(19," Email "),c.Tb(),c.Qb(20,"input",9),c.xc(21,U,2,0,"small",7),c.xc(22,g,2,0,"small",7),c.Tb(),c.Tb(),c.Ub(23,"div",3),c.Ub(24,"div",4),c.Ub(25,"label",5),c.zc(26," Address "),c.Tb(),c.Qb(27,"input",10),c.xc(28,v,2,0,"small",7),c.Tb(),c.Tb(),c.Ub(29,"div",11),c.Ub(30,"div",12),c.Ub(31,"button",13),c.zc(32," Submit "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e){let e=null,r=null,n=null,l=null,i=null,o=null;c.lc("ngIf",t.checkedOut),c.Cb(1),c.lc("formGroup",t.clientForm),c.Cb(7),c.lc("ngIf",(null==(e=t.clientForm.get("name"))?null:e.touched)&&(null==(e=t.clientForm.get("name"))||null==e.errors?null:e.errors.required)),c.Cb(6),c.lc("ngIf",(null==(r=t.clientForm.get("phoneNumber"))?null:r.touched)&&(null==(r=t.clientForm.get("phoneNumber"))||null==r.errors?null:r.errors.required)),c.Cb(1),c.lc("ngIf",(null==(n=t.clientForm.get("phoneNumber"))?null:n.touched)&&(null==(n=t.clientForm.get("phoneNumber"))||null==n.errors?null:n.errors.pattern)),c.Cb(6),c.lc("ngIf",(null==(l=t.clientForm.get("email"))?null:l.touched)&&(null==(l=t.clientForm.get("email"))||null==l.errors?null:l.errors.required)),c.Cb(1),c.lc("ngIf",(null==(i=t.clientForm.get("email"))?null:i.touched)&&(null==(i=t.clientForm.get("email"))||null==i.errors?null:i.errors.email)),c.Cb(6),c.lc("ngIf",(null==(o=t.clientForm.get("address"))?null:o.touched)&&(null==(o=t.clientForm.get("address"))||null==o.errors?null:o.errors.required)),c.Cb(3),c.lc("disabled",!t.clientForm.valid)}},directives:[n.l,m.o,m.i,m.d,m.a,m.h,m.c],styles:[""]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({imports:[[i.e.forChild(z)],i.e]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({imports:[[n.b,C,m.m]]}),e})()}}]);